---
import ContentLayout from "../layouts/ContentLayout.astro";
import Layout from "../layouts/Layout.astro";
import PageLayout from "../layouts/PageLayout.astro";
import { pages } from "../data/pages";
import CallToAction from "../components/section/CallToAction.astro";

const submenu = pages.filter((item) => item.submenu);
const sub = submenu.map((item) => item);
const sub1 = sub.map((item) => item.submenu);

// console.log(sub1[0]);
// sub1.forEach((item) => {
// 	console.log(item);
// });
---

<Layout title="Services">
	<PageLayout title="Services" subtitle="Services" breadcrumb="Services">
		<ContentLayout>
			<div class="services-content">
				<img
					src="/assets/images/automotive-maintenance-mechanic-explain-repair-con-2022-01-06-16-30-07-utc-min.webp"
					alt="automotive maintenance mechanic explain repair concept"
				/>
				<section class="services-tiles">
					<h2 class="services-content-heading">Our Services</h2>
					<ul class="services-items">
						{
							sub1[0]!.map((item) => {
								return (
									<li class="services-item">
										{item.image ? (
											<img
												src={item.image}
												alt={item.image_alt}
												loading="lazy"
											/>
										) : (
										<></>
										)}
										<div class="content">
											<p class="services-item-heading">{item.name}</p>
											<a href={"/services" + item.slug}>Learn more</a>
										</div>
									</li>
								);
							})
						}
					</ul>
				</section>
			</div>
		</ContentLayout>
		<CallToAction />
	</PageLayout>
</Layout>
