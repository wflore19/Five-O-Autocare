---
import Card from "../../components/Card.astro";
import CallToAction from "../../components/section/CallToAction.astro";
import ContentLayout from "../../layouts/ContentLayout.astro";
import Layout from "../../layouts/Layout.astro";
import PageLayout from "../../layouts/PageLayout.astro";

// returns an array of articles that live at ./articles/*.md
const articles = await Astro.glob("./posts/*.md");
// console.log(articles[0].frontmatter);
---

<Layout title="Articles">
	<PageLayout
		title="Articles"
		subtitle="News, articles about cars"
		breadcrumb="Articles"
	>
		<ContentLayout>
			<ul class="article-items">
				{
					articles.map((post) => (
						<Card
							title={post.frontmatter.title}
							summary={post.frontmatter.description}
							url={`articles/${post.frontmatter.slug}`}
						/>
					))
				}
				<Card />
				<Card image="customer-1.png" />
				<Card />
				<Card />
			</ul>
		</ContentLayout>
		<CallToAction />
	</PageLayout>
</Layout>
